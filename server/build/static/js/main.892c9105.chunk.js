(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{60:function(e,t,c){},61:function(e,t,c){},63:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),n=c(18),s=c.n(n),o=c(9),i=c(11),l=c.n(i),d=c(14),u=c(32),j="http://localhost:2000/",b=c.n(u).a.create({baseURL:"http://localhost:2000/api"}),p="GETCATEGORY_REQUEST",O="GETCATEGORY_SUCCESS",h="GETCATEGORY_FAILURE",f="GETPRODUCT_REQUEST",v="GETPRODUCT_SUCCESS",x="GETPRODUCT_FAILURE",m="ADDTOCART_SUCCESS",g=(c(60),c(12)),y=c(3),C=c(4),N=c(15),w=(c(61),c(1));var k=function(e){var t=e.data,c=Object(o.b)(),r=Object(o.c)((function(e){return e.cart.cartItems})),n=Object(a.useState)(!1),s=Object(N.a)(n,2),i=s[0],u=s[1],j=Object(a.useState)(1),b=Object(N.a)(j,2),p=b[0],O=b[1],h=function(){var e=t.offer/100;return(t.price-t.price*e).toFixed(2)},f=function(){var e,a,n=Object(C.a)(Object(C.a)({},t),{},{price:h(),orderQuantity:p});console.log(n),c((e=r,a=n,function(){var t=Object(d.a)(l.a.mark((function t(c){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=e).push(a),c({type:m,payload:{currentCartItems:r}}),localStorage.setItem("Cart",JSON.stringify(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};return Object(w.jsxs)("div",{className:"cardWrapper",children:[Object(w.jsxs)("div",{className:"card",children:[Object(w.jsx)("div",{className:i?"imgBoxActive":"imgBox",children:Object(w.jsx)("img",{src:t.imageRef,alt:t.title+" photo"})}),Object(w.jsxs)("div",{className:"detailsBox",children:[Object(w.jsx)("p",{children:t.title}),0!==t.offer?Object(w.jsxs)("p",{children:["$",h()," ",Object(w.jsxs)("i",{className:"oldPrice",children:["$",t.price]})]}):Object(w.jsxs)("p",{children:["$",t.price]}),i?Object(w.jsxs)("div",{className:"productQuantityControl",children:[Object(w.jsx)("i",{className:"fas fa-minus",onClick:function(){p>1&&O(p-1)},style:1===p?{cursor:"not-allowed",opacity:.5}:null}),Object(w.jsx)("span",{children:p}),Object(w.jsx)("i",{className:"fas fa-plus",onClick:function(){p<t.quantity&&O(p+1)},style:p===t.quantity?{cursor:"not-allowed",opacity:.5}:null}),Object(w.jsx)("button",{onClick:function(){u(!1),O(1)},children:"Cancel"})]}):null]})]}),0===t.quantity?Object(w.jsx)("button",{className:"dummyBtn",children:"Out of stock"}):i?Object(w.jsxs)("button",{className:"addToCartBtn",onClick:function(){u(!1),f()},children:[Object(w.jsx)("i",{className:"fas fa-shopping-cart"})," Add to cart"]}):Object(w.jsx)("button",{className:"addToCartBtn",onClick:function(){return u(!0)},children:"Buy Now"})]})},E=(c(63),function(e){var t=Object(a.useState)(!1),c=Object(N.a)(t,2),r=c[0],n=c[1],s=Object(a.useState)(!1),i=Object(N.a)(s,2),l=i[0],d=i[1],u=Object(o.c)((function(e){return e.cart.cartItems}));window.addEventListener("scroll",(function(){window.scrollY>.1*window.innerHeight?n(!0):n(!1)}));return Object(w.jsxs)("header",{className:r?"headerWrapperAct":"headerWrapper",children:[Object(w.jsx)(g.b,{to:"/",className:"logo",children:Object(w.jsx)("img",{src:"".concat(j,"logo.png"),alt:"placeholder-logo"})}),Object(w.jsxs)("button",{className:"cartBtn",onClick:function(){d(!0),document.body.style.overflow="hidden"},children:[Object(w.jsx)("img",{src:"".concat(j,"cart-icon.png"),alt:"cart-icon"}),Object(w.jsx)("span",{children:u.length>0?u.length:null})]}),Object(w.jsx)("div",{className:l?"cartModalActive":"cartModal",children:Object(w.jsxs)("div",{className:"cartContainer",children:[Object(w.jsx)("button",{onClick:function(){d(!1),document.body.style.overflow="unset"},children:"Close"}),Object(w.jsx)("h1",{children:"Cart"})]})})]})}),S=(c(66),function(e){return Object(w.jsxs)("div",{className:"mainContainer",children:[Object(w.jsx)(E,{}),e.children]})});c(67);var R=function(){var e=Object(o.c)((function(e){return e.product.allProducts})),t=Object(o.c)((function(e){return e.product.allCategories}));return Object(w.jsx)(S,{children:Object(w.jsxs)("div",{className:"productPageWrapper",children:[Object(w.jsxs)("p",{className:"directory",children:["products ",">"," new arrivals"]}),Object(w.jsx)("h1",{children:"new arrivals"}),Object(w.jsxs)("div",{className:"productControls",children:[Object(w.jsx)("div",{className:"filters",children:t.map((function(e,t){return Object(w.jsx)("button",{children:e.category},t)}))}),Object(w.jsxs)("div",{className:"viewControls",children:[Object(w.jsx)("button",{children:Object(w.jsx)("i",{className:"fas fa-th"})}),Object(w.jsx)("button",{children:Object(w.jsx)("i",{className:"fas fa-list-ul"})})]})]}),Object(w.jsx)("div",{className:"productShowcase",children:e.map((function(e,t){return Object(w.jsx)(k,{data:e},t)}))})]})})};var T=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(g.b,{to:"products",children:"Explore"})})};var I=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),e.next=4,b.get("/product/getProducts");case 4:200===(c=e.sent).status&&(a=c.data.result,t({type:v,payload:{products:a}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:x,payload:{message:"Failed to retrieve data from server!"}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:p}),e.next=4,b.get("/product/getCategories");case 4:200===(c=e.sent).status&&(a=c.data.result,t({type:O,payload:{categories:a}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:h,payload:{message:"Failed to retrieve data from server!"}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=JSON.parse(localStorage.getItem("Cart")),t({type:m,payload:{currentCartItems:c}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(g.a,{children:[Object(w.jsx)(y.a,{path:"/",exact:!0,component:T}),Object(w.jsx)(y.a,{path:"/products",component:R})]})})},A=c(33),P=c(17),U={cartItems:[],loading:!1,serverRes:""},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:e=Object(C.a)(Object(C.a)({},e),{},{cartItems:t.payload.currentCartItems,serverRes:"item added to cart"});break;default:e=Object(C.a)({},e)}return e},F={allProducts:[],allCategories:[],loading:!1,serverRes:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:e=Object(C.a)(Object(C.a)({},e),{},{loading:!0});break;case O:e=Object(C.a)(Object(C.a)({},e),{},{allCategories:t.payload.categories,loading:!1,serverRes:"products retrieved"});break;case h:e=Object(C.a)(Object(C.a)({},e),{},{loading:!1,serverRes:t.payload.Message});break;case f:e=Object(C.a)(Object(C.a)({},e),{},{loading:!0});break;case v:e=Object(C.a)(Object(C.a)({},e),{},{allProducts:t.payload.products,loading:!1,serverRes:"products retrieved"});break;case x:e=Object(C.a)(Object(C.a)({},e),{},{loading:!1,serverRes:t.payload.Message});break;default:e=Object(C.a)({},e)}return e},_=Object(P.b)({product:G,cart:B}),D=Object(P.c)(_,Object(P.a)(A.a)),L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,69)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))};window.store=D,s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(o.a,{store:D,children:Object(w.jsx)(g.a,{children:Object(w.jsx)(I,{})})})}),document.getElementById("root")),L()}},[[68,1,2]]]);
//# sourceMappingURL=main.892c9105.chunk.js.map